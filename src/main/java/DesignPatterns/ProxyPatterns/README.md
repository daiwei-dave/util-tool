代理模式理论

在阎宏博士的《JAVA与模式》一书中开头是这样描述代理（Proxy）模式的：

　　代理模式是对象的结构模式。代理模式给某一个对象提供一个代理对象，并由代理对象控制对原对象的引用。


@see http://www.cnblogs.com/java-my-life/archive/2012/04/23/2466712.html#3854670





静态代理特点：

1）程序员创建或工具生成代理类的源码，再编译代理类。
所谓静态也就是在程序运行前就已经存在代理类的字节码文件，代理类和委托类的关系在运行前就确定了。 


2）静态代理的代理对象和真实对象必须实现同一个接口（这样公用接口要进行扩展时，不仅真实对象要做改动代理对象也要做改动，维护成本较大）


动态代理特点：
动态代理是指在运行时动态生成代理类。即代理类的字节码将在运行时生成并载入当前代理的 ClassLoader。
（公用接口要进行扩展时，代理类不用任何改变）


动态代理实现思路

1.创建代理对象，即实现InvocationHandler接口，并在该类中创建代理对象的方法并实现接口中的invoke方法
2.使用代理对象




代理模式使用场景


1.透明化：如远程调用rpc中间件，mybatis的dao接口方法代理